@using Shared.Domain.Enums
@model Query.Contract.Admin.SendEmail.SendEmailAdminFilteredPaging
@{
	ViewData["Title"] = "ایمیل  های خبرنامه   ";
	ViewData["Selected"] = "SendEmails";
	var counter = Model.Skip+1;
}


<div class="row">
	<div class="col-xs-12">
		<div class="box">
			<div class="box-header">
				<div>
					<form class="form-inline ml-3  float-sm">


						<div class="form-group">
							<label asp-for="FilterParams.Take"></label>
							<input type="number" min="1" class="form-control" value="@Model?.FilterParams.Take" name="take" />
						</div>
						<input class="form-control " type="search" placeholder="جستجو کنید........" aria-label="Search" name="q" value="@Model?.FilterParams.Title">
						<button class="btn btn-sm btn-primary " style="margin-right: 6px" type="submit">
							<i class="fa fa-search">جستجو</i>
						</button>

					</form>

				</div>

				<hr />
				<div class="row">
					
					<a class="btn   btn-success mt-5 col-lg-3 " style="margin-right:10px" asp-action="Create"><i class="fa fa-plus"></i>
						ایمیل جدید خبرنامه
					</a>
				</div>


			</div>
			<!-- /.box-header -->
			<div class="box-body">
				<div class="table-responsive-md">
					<div class="table-responsive-md">

						<div class="table-responsive-md">
							<div class="table-responsive-md">
								<table class="table table-bordered text-sm table-sm  table-hover ">

									<thead class="">

										<tr>
											<th class="">#</th>
											<th class="col-2"> عنوان</th>
											<th class="col-2"> تاریخ ثبت</th>
											<th class="col-7">--</th>

										</tr>

									</thead>
									<tbody>

										@if (Model?.SendEmails != null && Model.SendEmails.Any())
										{
											@foreach (var sendEmail in Model.SendEmails)
											{
												<tr>
													<td>@(counter++)</td>


													<td>
														@sendEmail.Title
													</td>
													<td>
														@sendEmail.CreateDate
													</td>
													<td>
														<a class="btn btn-info" asp-action="Detail" asp-Route-id="@sendEmail.Id"><i class="fa fa-info" aria-hidden="true"></i> </a>
													</td>

												</tr>


											}
										}
										else
										{
											<h1>چیزی برای نمایش وجود ندارد...</h1>
										}

									</tbody>
								</table>
							</div>

						</div>

					</div>

				</div>

				<div class=" text-start">

					@if (Model?.TotalPages > 1)
					{
						<div class="row">
							<ul class="pagination pagination-sm " style="margin-right: 500px">
								@if (Model.CurrentPage > 1)
								{
									<li class="page-item"><a disabled class="page-link" asp-area="Admin" asp-controller="SendEmails" asp-action="Index" asp-route-pageId="@(Model.CurrentPage-1)" asp-route-q="@Model.FilterParams.Title">&laquo;</a></li>
								}
								@for (var i = Model.StartPage; i <= Model.EndPage; i++)
								{
									<li class="page-item "><a href="/Admin/SendEmails?pageId=@i&q=@Model.FilterParams.Title" class="page-link" @((Model.CurrentPage == i ? "class='bg-primary'" : "")) @((i == Model.CurrentPage ? "class='disabled-link'" : ""))>@i</a></li>
								}
								@if (Model.CurrentPage < Model.EndPage)
								{
									<li class="page-item"><a disabled class="page-link" asp-area="Admin" asp-controller="SendEmails" asp-action="Index" asp-route-pageId="@(Model.CurrentPage+1)" asp-route-q="@Model.FilterParams.Title">&raquo;</a></li>
								}

							</ul>
						</div>

					}


				</div>
			</div>
		</div>
	</div>
</div>

